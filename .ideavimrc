" https://superuser.com/questions/622898/how-to-turn-off-the-bell-sound-in-intellij
" https://stackoverflow.com/questions/63386803/how-to-turn-off-a-bell-in-intellij-idea
set visualbell

set surround

" https://youtrack.jetbrains.com/issue/VIM-1970
set highlightedyank

" https://youtrack.jetbrains.com/issue/VIM-959
set ideamarks

" smart line joining
set ideajoin

" https://youtrack.jetbrains.com/issue/VIM-1521
set commentary

" dia daa cia caa, text object: 'a' -> argument
" set argtextobj

" https://plugins.jetbrains.com/plugin/28333-vim-anyobject
set anyobject

" https://youtrack.jetbrains.com/issue/VIM-1042
set NERDTree

" https://github.com/JetBrains/ideavim/wiki/Emulated-plugins#vim-paragraph-motion
set vim-paragraph-motion

" https://github.com/JetBrains/ideavim/wiki/Emulated-plugins#vim-indent-object
set textobj-indent

set exchange

" redo
noremap U <C-r>



" leader key
let mapleader = ' '

" jump between angle brackets
set matchpairs+=<:>


" open config
noremap <leader>cc :edit ~/.ideavimrc<cr>

" source config
noremap <leader>cs :source ~/.ideavimrc<cr>:nohlsearch<cr>

" highlight search results
set hlsearch

" remove search highlights
nnoremap <Esc> :nohlsearch<cr>

" ignore case when searching
set ignorecase

" enable case sensitive search if uppercase is present
set smartcase

" search while typing
set incsearch

" relative line numbers
set relativenumber
set number

" consider camelCase/snake_case etc.
" move to the beginning of the next word
" map w [w

" move to the end of the next word
" map e ]w

" move to the beginning of the previous word
" map b [b

" move to the end of the previous word
" map ge ]b

" go to the top split
map <A-k> <C-w>k

" go to the bottom split
map <A-j> <C-w>j

" go to the left split
map <A-h> <C-w>h

" go to the right split
map <A-l> <C-w>l

map <leader>wv <Action>(SplitVertically)
map <leader>wh <Action>(SplitHorizontally)

map <leader>sc <Action>(GotoClass)
map <leader>sf <Action>(GotoFile)
map <leader>ss <Action>(GotoSymbol)
map <leader>sa <Action>(GotoAction)
map <leader>gi <Action>(GotoImplementation)
map <leader>gt <Action>(GotoTest)
map <leader>gm <Action>(GotoSuperMethod)
map <leader>gl <Action>(GotoLine)

map <leader>ug <Action>(FindUsages)
map <leader>uu <Action>(ShowUsages)
map <leader>im <Action>(QuickImplementations)
map <leader>ti <Action>(ExpressionTypeInfo)
map <leader>oo <Action>(FileStructurePopup)

" refactorings
map <leader>rn <Action>(RenameElement)
map <leader>rm <Action>(ExtractMethod)
map <leader>rv <Action>(IntroduceVariable)
map <leader>rf <Action>(IntroduceField)
map <leader>rc <Action>(IntroduceConstant)
map <leader>rp <Action>(IntroduceParameter)
map <leader>rs <Action>(ChangeSignature)
map <leader>rr <Action>(Refactorings.QuickListPopupAction)

map <leader>sw <Action>(SurroundWith)

map <C-[> <Action>(EditorCompleteStatement)

map <leader>en <Action>(GotoNextError)
map <leader>ep <Action>(GotoPreviousError)
map <leader>lc <Action>(JumpToLastChange)
map <leader>ll <Action>(RecentLocations)

map <C-o> <Action>(Back)
map <C-i> <Action>(Forward)

map <A-[> <Action>(MethodUp)
map <A-]> <Action>(MethodDown)

map <leader><leader> <Action>(ReformatCode)
map <leader>oi <Action>(OptimizeImports)
map <leader>ra <Action>(RearrangeCode)

map <C-j> <Action>(MoveLineDown)
map <C-k> <Action>(MoveLineUp)
map <C-A-j> <Action>(MoveStatementDown)
map <C-A-k> <Action>(MoveStatementUp)

map <leader>ca <Action>(CopyAbsolutePath)
map <leader>cn <Action>(CopyFileName)
map <leader>cp <Action>(CopyContentRootPath)

map <leader>fs <Action>(NewScratchFile)

" old mappings
map s <Action>(SelectIn)
map <Leader>e <Action>(ShowErrorDescription)

map <Leader>R <Action>(ChooseRunConfiguration)
map <Leader><F2> <Action>(Stop)
map <leader>D <Action>(Debug)
map <leader>z <Action>(ToggleDistractionFreeMode)

map go <Action>(VcsShowNextChangeMarker)
map gi <Action>(VcsShowPrevChangeMarker)
map gr <Action>(Vcs.RollbackChangedLines)
